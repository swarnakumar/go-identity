{{define "pagination"}}

{{if gt .PageCount 1}}

{{if .PageContentDiv}}

<div class="flex items-center justify-center my-12">
    <!--    Previous Arrow-->
    {{if gt .PageCount 3}}
    {{if eq .CurrPage 1}}
    <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left w-6 h-6">
            <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
    </div>
    {{else}}
    <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer"
         hx-get="{{.Link}}?page={{dec .CurrPage}}"
         hx-target="#{{.PageContentDiv}}"
         hx-swap="innerHTML"
    >
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left w-6 h-6">
            <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
    </div>
    {{end}}
    {{end}}

    <!--    First Page-->
    {{if eq .CurrPage 1}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        1
    </div>
    {{else}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full"
         hx-get="{{.Link}}?page=1"
         hx-target="#{{.PageContentDiv}}"
         hx-swap="innerHTML"
    >
        1
    </div>
    {{end}}

    {{if eq .PageCount 3}}
    <!--    Only three pages. Print ALL-->
        {{if eq .CurrPage 2}}
        <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
            2
        </div>
        {{else}}
        <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full"
             hx-get="{{.Link}}?page=2"
             hx-target="#{{.PageContentDiv}}"
             hx-swap="innerHTML"
        >
            2
        </div>
        {{end}}
    {{end}}

    {{if gt .PageCount 3}}
    <!--        Leading Dots. No point when current page is 2!    -->
    {{if gt .CurrPage 2}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
        ...
    </div>
    {{end}}
    <!--    Current Page-->
    {{if and (lt .CurrPage .PageCount) (gt .CurrPage 1)}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        {{.CurrPage}}
    </div>
    {{end}}

    <!--    Trailing Dots-->
    {{if lt .CurrPage (dec .PageCount)}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
        ...
    </div>
    {{end}}

    {{end}}

    <!--    Last Page-->
    {{if eq .CurrPage .PageCount}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        {{.PageCount}}
    </div>
    {{else}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full"
         hx-get="{{.Link}}?page={{.PageCount}}"
         hx-target="#{{.PageContentDiv}}"
         hx-swap="innerHTML"
    >
        {{.PageCount}}
    </div>
    {{end}}


    <!--    Next Arrow-->
    {{if gt .PageCount 3}}
    {{if eq .CurrPage .PageCount}}
    <div class="h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right w-6 h-6">
            <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
    </div>
    {{else}}
    <div class="h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer"
         hx-get="{{.Link}}?page={{inc .CurrPage}}"
         hx-target="#{{.PageContentDiv}}"
         hx-swap="innerHTML"
    >
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right w-6 h-6">
            <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
    </div>
    {{end}}
    {{end}}
</div>

{{else}}

<div class="flex items-center justify-center my-12">
    <!--    Previous Arrow-->
    {{if gt .PageCount 3}}
    {{if eq .CurrPage 1}}
    <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left w-6 h-6">
            <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
    </div>
    {{else}}
    <a href="{{.Link}}">
        <div class="h-12 w-12 mr-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left w-6 h-6">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </div>
    </a>
    {{end}}
    {{end}}

    <!--    First Page-->
    {{if eq .CurrPage 1}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        1
    </div>
    {{else}}
    <a href="{{.Link}}">
        <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
            1
        </div>
    </a>
    {{end}}

    {{if eq .PageCount 3}}
    <!--    Only three pages. Print ALL-->
    {{if eq .CurrPage 2}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        2
    </div>
    {{else}}
    <a href="{{.Link}}?page=2">
        <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
            2
        </div>
    </a>
    {{end}}
    {{end}}

    {{if gt .PageCount 3}}
    <!--        Leading Dots. No point when current page is 2!    -->
    {{if gt .CurrPage 2}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
        ...
    </div>
    {{end}}
    <!--    Current Page-->
    {{if and (lt .CurrPage .PageCount) (gt .CurrPage 1)}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        {{.CurrPage}}
    </div>
    {{end}}

    <!--    Trailing Dots-->
    {{if lt .CurrPage (dec .PageCount)}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
        ...
    </div>
    {{end}}

    {{end}}

    <!--    Last Page-->
    {{if eq .CurrPage .PageCount}}
    <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in bg-blue-700 rounded-full text-white">
        {{.PageCount}}
    </div>
    {{else}}
    <a href="{{.Link}}?page={{.PageCount}}">
        <div class="h-12 w-12 md:flex justify-center items-center cursor-pointer leading-5 transition duration-150 ease-in rounded-full">
            {{.PageCount}}
        </div>
    </a>
    {{end}}


    <!--    Next Arrow-->
    {{if gt .PageCount 3}}
    {{if eq .CurrPage .PageCount}}
    <div class="h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right w-6 h-6">
            <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
    </div>
    {{else}}
    <a href="{{.Link}}?page={{inc .CurrPage}}">
        <div class="h-12 w-12 ml-1 flex justify-center items-center rounded-full bg-gray-200 cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right w-6 h-6">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </div></a>
    {{end}}{{end}}

</div>

{{end}}

{{end}}

{{end}}